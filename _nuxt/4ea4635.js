(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{482:function(e,t,r){var content=r(605);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(29).default)("2fa56b52",content,!0,{sourceMap:!1})},604:function(e,t,r){"use strict";r(482)},605:function(e,t,r){var n=r(28)(!1);n.push([e.i,".league[data-v-51380b2b]{padding-bottom:30px}.league__top[data-v-51380b2b]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #fff;padding-bottom:10px;margin-bottom:20px}.league__subtitle[data-v-51380b2b]{color:#a3a3a3;font-size:23px;font-weight:700;margin-top:10px}.league__logo img[data-v-51380b2b]{max-height:80px}.league__inner[data-v-51380b2b]{display:flex;justify-content:space-between;grid-gap:8px;gap:8px;margin-top:50px}.league__nav[data-v-51380b2b]{display:flex;margin-bottom:-2px}.league__nav-item[data-v-51380b2b]{color:#67707a;line-height:32px;padding:10px 30px 15px;display:block;font-weight:500}.league__nav-item.nuxt-link-exact-active.nuxt-link-active[data-v-51380b2b]{color:#f5f5f5;border:2px solid #565656;border-bottom-color:#0f1215}.league__info[data-v-51380b2b]{border:2px solid #565656;padding:50px;width:808px}.league__requirements[data-v-51380b2b]{max-width:408px;width:100%;border:2px solid #444546;padding-bottom:10px}.league__requirements-title[data-v-51380b2b]{color:#f5f5f5;font-size:18px;font-weight:500;padding:12px 0 20px 15px;border-bottom:2px solid #444546}.league__requirements-inner[data-v-51380b2b]{border-bottom:2px solid #444546;padding:20px 0 20px 12px}.league__requirements-inner-title[data-v-51380b2b]{font-weight:500;text-transform:uppercase}.league__requirements-inner-text[data-v-51380b2b]{color:#67707a}.league__requirements-inner-link[data-v-51380b2b]{color:#0a68f5}.league__requirements-age[data-v-51380b2b]{margin-bottom:5px}.league__requirements-play[data-v-51380b2b]{margin-top:5px}.league__requirements-sign[data-v-51380b2b]{max-width:290px;margin:10px auto 0}.league__requirements-sign-warning[data-v-51380b2b]{color:#b83333;margin-bottom:10px}@media (max-width:1300px){.league__inner[data-v-51380b2b]{flex-wrap:wrap;justify-content:center}.league__info[data-v-51380b2b]{max-width:808px;width:100%}}@media (max-width:600px){.league__nav[data-v-51380b2b]{flex-wrap:wrap}.league__nav .nuxt-link-exact-active.nuxt-link-active[data-v-51380b2b]{border:none}}",""]),e.exports=n},692:function(e,t,r){"use strict";r.r(t);var n=r(4),l=(r(22),r(109),r(10),r(37),r(44),r(50),r(82),r(38)),o={computed:Object(l.b)(["getLeagues","getGames","getUser"]),mounted:function(){var e=this;this.id=this.$route.params.id,this.game=this.$route.params.game,this.$store.dispatch("setLeaguesAction"),this.$store.dispatch("setGamesAction"),setTimeout((function(){Object.keys(e.getGames).forEach((function(t){e.getGames[t].title===e.game&&(e.icon=e.getGames[t].gameIconImg)})),Object.keys(e.getLeagues).forEach((function(t){e.getLeagues[t].id===e.id&&(e.league=e.getLeagues[t])})),e.league.players&&Object.keys(e.league.players).forEach((function(t){e.league.players[t].id===e.getUser.id&&(e.registered=!0)}))}),500)},data:function(){return{id:"",game:"",icon:"",league:"",registered:!1}},methods:{register:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$fire.auth.currentUser){t.next=2;break}return t.abrupt("return",e.$toasted.error("You're not logged in"));case 2:if("Premium"!==e.league.entryPrice||"free"!==e.getUser.subscribe){t.next=4;break}return t.abrupt("return",e.$toasted.error("This league only for premium users"));case 4:if("Private"!==e.league.entryPrice){t.next=6;break}return t.abrupt("return",e.$toasted.error("This league is private, ask the host to add you"));case 6:if(!e.league.maxPlayers||Object.keys(e.league.players).length!==+e.league.maxPlayers){t.next=8;break}return t.abrupt("return",e.$toasted.error("No slots available"));case 8:if("Free"===e.league.entryPrice||"Premium"===e.league.entryPrice){t.next=22;break}if(!(e.getUser.eur-+e.league.entryPrice.slice(1)<0)){t.next=11;break}return t.abrupt("return",e.$toasted.error("You don't have enough money"));case 11:return t.next=13,e.$fire.database.ref("users/".concat(e.getUser.id,"/eur"));case 13:return r=t.sent,t.prev=14,t.next=17,r.set(e.getUser.eur-+e.league.entryPrice.slice(1));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(14),e.$toasted.error(t.t0);case 22:return t.next=24,e.$fire.database.ref("leagues/".concat(e.id,"/players/").concat(e.getUser.id));case 24:return n=t.sent,t.prev=25,t.next=28,n.set({id:e.getUser.id,username:e.getUser.username});case 28:t.next=33;break;case 30:t.prev=30,t.t1=t.catch(25),e.$toasted.error(t.t1);case 33:e.registered=!0,e.$toasted.success("You have registered");case 35:case"end":return t.stop()}}),t,null,[[14,19],[25,30]])})))()},unregister:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fire.database.ref("leagues/".concat(e.id,"/players/").concat(e.getUser.id));case 2:return r=t.sent,t.prev=3,t.next=6,r.set(null);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),e.$toasted.error(t.t0);case 11:if("$"!==e.league.entryPrice[0]){t.next=23;break}return t.next=14,e.$fire.database.ref("users/".concat(e.getUser.id,"/eur"));case 14:return n=t.sent,t.prev=15,t.next=18,n.set(e.getUser.eur+ +e.league.entryPrice.slice(1));case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(15),e.$toasted.error(t.t1);case 23:e.registered=!1,e.$toasted.success("You leave");case 25:case"end":return t.stop()}}),t,null,[[3,8],[15,20]])})))()}}},c=(r(604),r(13)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"league"},[r("div",{staticClass:"league__top"},[r("div",{staticClass:"league__top-text"},[r("div",{staticClass:"league__title title"},[e._v(e._s(e.game)+": Leagues")])]),e._v(" "),r("div",{staticClass:"league__logo"},[r("img",{attrs:{src:e.icon,alt:""}})])]),e._v(" "),r("div",{staticClass:"league__inner"},[r("div",{staticClass:"league__inner-item"},[r("div",{staticClass:"league__nav"},[r("nuxt-link",{staticClass:"league__nav-item",attrs:{to:"/leagues/"+e.game+"/"+e.id}},[e._v("Info")]),e._v(" "),r("nuxt-link",{staticClass:"league__nav-item",attrs:{to:"/leagues/"+e.game+"/"+e.id+"/play"}},[e._v("Play")]),e._v(" "),r("nuxt-link",{staticClass:"league__nav-item",attrs:{to:"/leagues/"+e.game+"/"+e.id+"/standings"}},[e._v("Standings")]),e._v(" "),r("nuxt-link",{staticClass:"league__nav-item",attrs:{to:"/leagues/"+e.game+"/"+e.id+"/rules"}},[e._v("Rules")]),e._v(" "),r("nuxt-link",{staticClass:"league__nav-item",attrs:{to:"/leagues/"+e.game+"/"+e.id+"/support"}},[e._v("Support")])],1),e._v(" "),r("nuxt-child",{staticClass:"league__info"})],1),e._v(" "),r("div",{staticClass:"league__requirements"},[r("div",{staticClass:"league__requirements-title"},[e._v("Requirements")]),e._v(" "),r("div",{staticClass:"league__requirements-inner"},[e.league.minAge?r("div",{staticClass:"league__requirements-age"},[r("div",{staticClass:"league__requirements-inner-title"},[e._v("Minimum age")]),e._v(" "),r("div",{staticClass:"league__requirements-inner-text"},[e._v("At least "+e._s(e.league.minAge)+" years old")])]):e._e(),e._v(" "),r("div",{staticClass:"league__requirements-inner-title"},[e._v("Residence")]),e._v(" "),r("nuxt-link",{staticClass:"league__requirements-inner-link",attrs:{to:"/"}},[e._v("More info")]),e._v(" "),r("div",{staticClass:"league__requirements-play"},[r("div",{staticClass:"league__requirements-age"},[r("div",{staticClass:"league__requirements-inner-title"},[e._v("Entry price")]),e._v(" "),r("div",{staticClass:"league__requirements-inner-text"},[e._v(e._s(e.league.entryPrice))])]),e._v(" "),r("div",{staticClass:"league__requirements-inner-title"},[e._v("Play")]),e._v(" "),r("div",{staticClass:"league__requirements-inner-text"},[e._v("Please log in to take part in this tournament.")])])],1),e._v(" "),r("div",{staticClass:"league__requirements-sign"},[r("div",{staticClass:"league__requirements-sign-warning"},[e._v("Register close in "+e._s(e.league.startDate))]),e._v(" "),e.registered?r("div",{staticClass:"league__requirements-sign-btn",on:{click:e.unregister}},[r("my-button",{staticClass:"secondary"},[e._v("Unregister")])],1):this.$fire.auth.currentUser?r("div",{staticClass:"league__requirements-sign-btn",on:{click:e.register}},[r("my-button",[e._v("Register")])],1):r("nuxt-link",{staticClass:"tournament__requirements-sign-btn",attrs:{to:"/auth/login"}},[r("my-button",[e._v("Log in / Register")])],1)],1)])])])}),[],!1,null,"51380b2b",null);t.default=component.exports;installComponents(component,{MyButton:r(208).default})}}]);